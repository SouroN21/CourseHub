{"ast":null,"code":"import _objectSpread from\"D:/INTERN/CourseHub/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import API_CONFIG from'../config/apiConfig';import{toast,ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Signup=()=>{const[firstName,setFirstName]=useState('');const[lastName,setLastName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[role,setRole]=useState('Student');const[bio,setBio]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();try{const payload=_objectSpread({firstName,lastName,email,password,role},role==='Instructor'&&{bio});await axios.post(\"\".concat(API_CONFIG.BASE_URL,\"/auth/signup\"),payload);toast.success('Account created successfully! Redirecting to login...');setTimeout(()=>{navigate('/login',{state:{message:'Account created successfully! Please log in.'}});},2000);}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Signup failed. Please try again.');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ToastContainer,{position:\"top-center\",autoClose:3000,theme:\"colored\",pauseOnHover:true,draggable:true}),/*#__PURE__*/_jsx(\"section\",{className:\"min-h-screen bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-md w-full p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-indigo-900 text-3xl font-extrabold mb-6 text-center\",children:\"Sign Up for EduVerse\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",className:\"block text-indigo-900 font-semibold mb-1\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"firstName\",type:\"text\",required:true,value:firstName,onChange:e=>setFirstName(e.target.value),className:\"w-full px-4 py-2 border border-indigo-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 transition\",placeholder:\"John\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",className:\"block text-indigo-900 font-semibold mb-1\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"lastName\",type:\"text\",required:true,value:lastName,onChange:e=>setLastName(e.target.value),className:\"w-full px-4 py-2 border border-indigo-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 transition\",placeholder:\"Doe\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-indigo-900 font-semibold mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",required:true,value:email,onChange:e=>setEmail(e.target.value),className:\"w-full px-4 py-2 border border-indigo-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 transition\",placeholder:\"your.email@example.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-indigo-900 font-semibold mb-1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",required:true,value:password,onChange:e=>setPassword(e.target.value),className:\"w-full px-4 py-2 border border-indigo-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 transition\",placeholder:\"Create a password\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"role\",className:\"block text-indigo-900 font-semibold mb-1\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"role\",value:role,onChange:e=>setRole(e.target.value),className:\"w-full px-4 py-2 border border-indigo-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 transition\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Student\",children:\"Student\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Instructor\",children:\"Instructor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Admin\",children:\"Admin\"})]})]}),role==='Instructor'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"bio\",className:\"block text-indigo-900 font-semibold mb-1\",children:\"Bio\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"bio\",rows:4,value:bio,onChange:e=>setBio(e.target.value),placeholder:\"Tell us about yourself (expertise, experience...)\",className:\"w-full px-4 py-2 border border-indigo-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 transition\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-yellow-400 text-indigo-900 font-bold py-2 rounded-lg hover:bg-yellow-500 transition focus:outline-none focus:ring-4 focus:ring-yellow-300\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-6 text-indigo-900 text-center\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"font-semibold hover:text-yellow-400 transition\",children:\"Log in\"})]})]})})]});};export default Signup;","map":{"version":3,"names":["React","useState","Link","useNavigate","axios","API_CONFIG","toast","ToastContainer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Signup","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","role","setRole","bio","setBio","navigate","handleSubmit","e","preventDefault","payload","_objectSpread","post","concat","BASE_URL","success","setTimeout","state","message","error","_error$response","_error$response$data","response","data","children","position","autoClose","theme","pauseOnHover","draggable","className","onSubmit","htmlFor","id","type","required","value","onChange","target","placeholder","rows","to"],"sources":["D:/INTERN/CourseHub/frontend/src/components/Signup.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport API_CONFIG from '../config/apiConfig';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst Signup = () => {\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [role, setRole] = useState('Student');\r\n  const [bio, setBio] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const payload = {\r\n        firstName,\r\n        lastName,\r\n        email,\r\n        password,\r\n        role,\r\n        ...(role === 'Instructor' && { bio }),\r\n      };\r\n      await axios.post(`${API_CONFIG.BASE_URL}/auth/signup`, payload);\r\n\r\n      toast.success('Account created successfully! Redirecting to login...');\r\n      setTimeout(() => {\r\n        navigate('/login', { state: { message: 'Account created successfully! Please log in.' } });\r\n      }, 2000);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Signup failed. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ToastContainer\r\n        position=\"top-center\"\r\n        autoClose={3000}\r\n        theme=\"colored\"\r\n        pauseOnHover\r\n        draggable\r\n      />\r\n      <section className=\"min-h-screen bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center px-4\">\r\n        <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full p-8\">\r\n          <h2 className=\"text-indigo-900 text-3xl font-extrabold mb-6 text-center\">\r\n            Sign Up for EduVerse\r\n          </h2>\r\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n            <div>\r\n              <label htmlFor=\"firstName\" className=\"block text-indigo-900 font-semibold mb-1\">\r\n                First Name\r\n              </label>\r\n              <input\r\n                id=\"firstName\"\r\n                type=\"text\"\r\n                required\r\n                value={firstName}\r\n                onChange={(e) => setFirstName(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-indigo-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 transition\"\r\n                placeholder=\"John\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"lastName\" className=\"block text-indigo-900 font-semibold mb-1\">\r\n                Last Name\r\n              </label>\r\n              <input\r\n                id=\"lastName\"\r\n                type=\"text\"\r\n                required\r\n                value={lastName}\r\n                onChange={(e) => setLastName(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-indigo-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 transition\"\r\n                placeholder=\"Doe\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"block text-indigo-900 font-semibold mb-1\">\r\n                Email\r\n              </label>\r\n              <input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                required\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-indigo-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 transition\"\r\n                placeholder=\"your.email@example.com\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"block text-indigo-900 font-semibold mb-1\">\r\n                Password\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                required\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-indigo-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 transition\"\r\n                placeholder=\"Create a password\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"role\" className=\"block text-indigo-900 font-semibold mb-1\">\r\n                Role\r\n              </label>\r\n              <select\r\n                id=\"role\"\r\n                value={role}\r\n                onChange={(e) => setRole(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-indigo-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 transition\"\r\n              >\r\n                <option value=\"Student\">Student</option>\r\n                <option value=\"Instructor\">Instructor</option>\r\n                <option value=\"Admin\">Admin</option>\r\n              </select>\r\n            </div>\r\n            {role === 'Instructor' && (\r\n              <div>\r\n                <label htmlFor=\"bio\" className=\"block text-indigo-900 font-semibold mb-1\">\r\n                  Bio\r\n                </label>\r\n                <textarea\r\n                  id=\"bio\"\r\n                  rows={4}\r\n                  value={bio}\r\n                  onChange={(e) => setBio(e.target.value)}\r\n                  placeholder=\"Tell us about yourself (expertise, experience...)\"\r\n                  className=\"w-full px-4 py-2 border border-indigo-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 transition\"\r\n                />\r\n              </div>\r\n            )}\r\n            <button\r\n              type=\"submit\"\r\n              className=\"w-full bg-yellow-400 text-indigo-900 font-bold py-2 rounded-lg hover:bg-yellow-500 transition focus:outline-none focus:ring-4 focus:ring-yellow-300\"\r\n            >\r\n              Sign Up\r\n            </button>\r\n          </form>\r\n          <p className=\"mt-6 text-indigo-900 text-center\">\r\n            Already have an account?{' '}\r\n            <Link\r\n              to=\"/login\"\r\n              className=\"font-semibold hover:text-yellow-400 transition\"\r\n            >\r\n              Log in\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}